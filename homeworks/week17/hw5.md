## 這週學了一大堆以前搞不懂的東西，你有變得更懂了嗎？請寫下你的心得。

閱讀順序是照著導讀推薦順序閱讀，看完第二期 9-2 影片以後，接著看技術文章，一開始還能努力理解，到最後已經用滾的只看關鍵字了 XDDD
結論：技術文章不能一口氣看完(X)

總之，隔天看起 [JS201] ，我覺得編排的很棒的是，看完一個主題就附上當初看了不見得有懂的技術文，看第二次的感覺有更吸收到文章想要傳遞的東西，[JS201] 教得比較細緻，當初在 9-2 影片裡記下的一些問題，在看 [JS201] 的時候都有得到解答！

接著是筆記的部分，下面把自己對這些東西的定義帶上，一方面是我習慣先能夠定義它是什麼，用來做什麼，才能開始吸收裡面的流程、規則、運算過程；另一方面是我相信老師看到錯誤會幫我糾錯，正好檢驗自己有沒有理解正確 XD

## Event Loop
> 瀏覽器在運行 Javascript 的一種機制。

以前有聽過，上完課才發現自己懂的部分只是他的冰山一小角 (冏)，並且在這堂課才真正懂 `setTimeout` 的邏輯。

在課程中有個疑惑是老師有提到 `stack`、`queue`，但是多出來的第三方 `web apis` 課上沒有告訴我們這是什麼，從哪裡來，要做什麼。我是課後去查相關文件，才知道 `setTimeout` 不是 Javascript 的規則，是執行以後，browser 幫我們接走，拿去計時，再丟回程式裡等待堆疊清空，繼續執行的 api

所以才能夠解釋為什麼可以一邊計時一邊繼續執行程式碼（尤其 Javascript 是一個 Single Thread 的程式語言），也可以解釋為什麼被丟出去的 function 再接回來的時候，for 迴圈裡面的變數只會吃到最後一個 i 值，因為第一次執行只執行外層 setTimeout 的 function，裡面的 funciton 從 queue 回到 stack 以後，才開始執行裡面的程式碼，裡面的 i 才被賦值。

## Scope

> Javascript 採用靜態作用域（static scope / lexical scope）：不是看你在哪裡呼叫他，而是看你在哪裡定義他

function 寫在哪裡會影響到變數，感覺這是很重要的地雷，因為我習慣把 funciton 拉出來到最外面，再去需要的地方叫出來用。

但是這邊又不能說會影響程式碼很嚴重，因為好 code 不應該把 funtion 外面的變數和裡面的變數都取一樣的名字吧（？）

## hoisting

1. 只有宣告會提升，賦值不會提升
2. 除了變數宣告，函式宣告也會提升
3. function 的宣告優先權比較高
4. 別忘了函式裡面還有傳進來的參數

> 原理：參照 ECMAScript 的定義解釋，我們可以簡單理解 Javascipt 是一個先經過編譯，再執行的程式

從 Javascript 的規格書開始介紹起，真的沒有比這個更好的解釋 Javascript 的規則了！！以前自己學習的時候都是東缺一塊西補一塊的，遇到問題就 google，然後下次踩雷再估狗......規則都是死記硬背的感覺，現在一切都串連起來了。遇到不會的地方（例如第一眼看到作業），還可以自己模擬 Javascript 來看流程到底是怎麼跑起來的，這個地方很讚很喜歡~

## closure

> 1. 減少全域變數：變數放在 function 裡面讓外部無法更改
> 2. 封裝程式碼

為了不要產生非預期的影響，於是把功能模組化，使用方式和一些常用的 Javascript plugin 很像，原理應該就是 closure 吧？

## OOP

> class 是設計圖，instance 是印出來的東西

之前上 PHP 的時候提到過 OOP 的觀念，但那時候一邊講 PHP，一邊講 Javascript，吸收得很不好（筆記也是超級散亂，看來看去也不知道該怎麼整理），這邊的 OOP 單純講解 Javascript 看起來就比較乾淨易懂，把複雜的可能性都拆掉（比如只單純講 Javascript，比如只講 ES6），對一知半解的學生來說應該是比較好的學習方式（？）所以我一直很喜歡短影片課程系列勝過一次告訴你全部的直播影片！之前一二期的同學要在這麼短的時間內又用直播的方式學習真的很辛苦啊！

看到從 ES5 演化到 ES6 的 OOP 教學，我有個疑問，在 ES6 的 class 語法糖下，現在還有人會使用像閉包這樣的封裝模組嗎？或是現在趨勢都是改用 ES6 語法（如下錢包扣錢範例）
```
function creatWallet(initMoney) {
  var money = initMoney;
  return {
    add: function(num) {
      money += num;
    },
    deduct: function(num) {
      if (num >= 10) {
        money -= 10
      } else {
        money -= num;
      }
    },
    getMoney() {
      return money;
    }
  }
}
var myWallet = creatWallet(99);
myWallet.add(1);
myWallet.deduct(100);
console.log(myWallet.getMoney()); // 90
```

前陣子因為工作需要，硬啃 React（那時候的我連物件導向都不會......），在 React 這塊學得很痛苦，試圖理解 `super()`，問同事他們也說不上為什麼，只告訴我要這樣用，不用的話會出錯等等。我理解工作上因為時間因素，在不懂原理的情況下，熟能生巧也一樣可以達到客戶的要求，寫出客戶要的程式（像他們那樣），但我總覺得這不是一個好方法，不求甚解的同事也讓我覺得這個環境對我來說可能不太適合......現在我終於懂 `super()`，很期待之後上到 React 的課程，真的把它理解！！

## this

1. 物件導向中
this = call 自己的 instance

2. 非物件導向環境中
會根據環境不同指向 global / window
   * node.js >> 預設值是 global
   * browser >> 預設值是 window
   * 在嚴格模式下，不論是 node or browser 都會顯示 undefind
並不會因為存在 function 裡面就會產生值
如果是在 eventListener 事件裡面，this 會指向觸發事件的 dom 本身

3. 物件中
this 的值跟程式碼在哪裡無關，和 function 怎麼被呼叫有關

4. arrow function 對 this 的定義和之前提到過的 function 剛好相反，他和怎麼呼叫無關，和在哪裡定義有關

---

this 這塊也是之前很薄弱的地方，我選擇不會用的就不要亂用，所以實作上我幾乎不會寫到 this，現在學習過以後證明，對，我本來就用不到，因為之前的我根本就不會用物件寫法啊 XD

工作上最常碰到 this 的地方是在 JQuery 裡面，關於 JQuery 老師並沒有提到他的 this 覺得好遺憾（？）尤其是轉移到 arrow function 以後 原本的 this 也不能用了，感覺也是一個可以想一下原理的點

另外就是 JQuery 的寫法（例如 `$('.btn').parent().parent().hide()` 之類的），隱約覺得這是不是也是用 closure 來模組的寫法？

這些零零碎碎的關聯性可能就是我課後要自己去補起來的地方吧！（心裡偷偷許願老師加課 XDD（不講解也沒關係，我也可以在下次直播的時候問（Ｘ

最後的最後，想再問老師一個問題，我在網路上看到一個觀念：減少全域變數的使用。
會把全域變數都用物件的方式包起來，程式碼大概會長的像這樣：
```
var Apps = {};

Apps.person = {
    "first-name": "Bruce",
    "last-name": "Chen",
    "nickname" : "KKBruce",
    "age": 18,
    "live": "Taiwan",
    "work": "Developer"
};

console.log(Apps.person.age);
```

大概可以看得出這樣程式碼可讀性比較高，因為關聯的東西都放在一起，我想知道，寫成物件的形式除了可讀性和全域變數不容易散亂還有其他好處嗎？

如果物件的寫法是優點多多的，那是不是說物件導向的寫法是寫 Javascript 最好的寫法？一般的寫法都要排在物件導向後面？

看到這個物件框框，又讓我想到 React，好想快點學到那裡然後直接打通任督二脈！！！